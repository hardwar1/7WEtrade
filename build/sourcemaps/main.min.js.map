{"version":3,"sources":["01__main.js"],"names":["document","addEventListener","qOne","selector","querySelector","qAll","querySelectorAll","closePopaps","i","jsHide","classList","remove","overlay","window","e","key","burger","menu","this","toggle","header","toTop","scrollTop","top","scrollY","add","anchors","slice","call","forEach","item","preventDefault","coordY","getAttribute","getBoundingClientRect","pageYOffset","scroller","setInterval","Math","abs","scrollTo","clearInterval","scrollBy","animationTime","Swiper","slidesPerView","pagination","el","clickable","renderBullet","index","className","navigation","nextEl","prevEl","swiperControlsWrapper","closest","insertAdjacentHTML","innerHTML","clickDots","clickDotsArrays","dots","concat","btnArr","currentSlide","originalDots","fakedDots","mutationObserver","MutationObserver","mutations","mutation","length","contains","observe","attributes","attributeOldValue","click","array","changeSlide","jsRegister","jsLogin","articlesTabsBtn","articles","showMenuBtn","tabsMenu","formFieldset","progressbarItem","next","previous","progressbar","style","width","setProperty","persent","arr","selectHeader","select","options","innerText","option","hasAttribute","selectItem","value","masked","elems","mask","event","keyCode","template","def","replace","val","newValue","a","charAt","indexOf","reg","substr","RegExp","test","type","elem","maskPhone"],"mappings":"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","file":"../js/main.min.js","sourcesContent":["\"use strict\";\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n  function qOne(selector) {\r\n    return document.querySelector(selector);\r\n  }\r\n\r\n  function qAll(selector) {\r\n    return document.querySelectorAll(selector);\r\n  }\r\n\r\n  window.addEventListener(\"keydown\", (e) => {\r\n    if (e.key == \"Escape\") closePopaps();\r\n  });\r\n\r\n  function closePopaps() {\r\n    for (let i of jsHide) i.classList.remove(\"active\");\r\n    overlay.classList.remove(\"overlay--active\");\r\n  }\r\n\r\n  //burger mobile menu\r\n  const burger = qOne(\".burger\"),\r\n    menu = qOne(\".menu\"),\r\n    overlay = qOne(\".overlay\"),\r\n    jsHide = qAll(\".js-hide\");\r\n\r\n  overlay.addEventListener(\"click\", () => closePopaps());\r\n\r\n  burger.addEventListener(\"click\", function () {\r\n    this.classList.toggle(\"burger--close\");\r\n    menu.classList.toggle(\"header__menu--show\");\r\n  });\r\n\r\n  menu.addEventListener(\"click\", function () {\r\n    this.classList.remove(\"header__menu--show\");\r\n    burger.classList.remove(\"burger--close\");\r\n  });\r\n\r\n  // скроллы якорных ссылок\r\n  const header = qOne(\".header\"),\r\n    toTop = qOne(\".to-top\");\r\n\r\n  let scrollTop,\r\n    top = 0;\r\n\r\n  window.addEventListener(\"scroll\", function () {\r\n    scrollTop = window.scrollY;\r\n\r\n    if (scrollTop > 100) {\r\n      header.classList.add(\"header--scroll\");\r\n    } else {\r\n      header.classList.remove(\"header--scroll\");\r\n    }\r\n\r\n    if (top < scrollTop && top > 500 && !qOne(\".header__menu--show\")) {\r\n      header.classList.add(\"header--hide\");\r\n      top = scrollTop;\r\n    } else {\r\n      header.classList.remove(\"header--hide\");\r\n      top = scrollTop;\r\n    }\r\n\r\n    if (scrollTop > 1000) {\r\n      toTop.classList.add(\"to-top--show\");\r\n    } else {\r\n      toTop.classList.remove(\"to-top--show\");\r\n    }\r\n  });\r\n\r\n  // скроллы якорных ссылок\r\n  const anchors = [].slice.call(document.querySelectorAll('a[href*=\"#\"]')),\r\n    animationTime = 1000,\r\n    framesCount = 200;\r\n\r\n  anchors.forEach(function (item) {\r\n    item.addEventListener(\"click\", function (e) {\r\n      e.preventDefault();\r\n      let coordY =\r\n        document\r\n          .querySelector(item.getAttribute(\"href\"))\r\n          .getBoundingClientRect().top + window.pageYOffset;\r\n\r\n      let scroller = setInterval(function () {\r\n        // скорость прокрутки\r\n        let scrollBy = 12;\r\n        if (Math.abs(window.pageYOffset - coordY) < scrollBy) {\r\n          window.scrollTo(0, coordY);\r\n          clearInterval(scroller);\r\n        } else if (scrollBy < window.pageYOffset - coordY) {\r\n          window.scrollBy(0, -scrollBy);\r\n        } else if (scrollBy > window.pageYOffset - coordY) {\r\n          window.scrollBy(0, scrollBy);\r\n        }\r\n      }, animationTime / framesCount);\r\n    });\r\n  });\r\n\r\n  // слайдеры\r\n  if (qOne(\".swiper\")) {\r\n    const swiper = new Swiper(\".swiper\", {\r\n      slidesPerView: 1,\r\n\r\n      pagination: {\r\n        el: \".swiper-pagination\",\r\n        clickable: true,\r\n        renderBullet: function (index, className) {\r\n          return '<li class=\"' + className + '\"> </li>';\r\n        },\r\n      },\r\n      navigation: {\r\n        nextEl: \".swiper-button-next\",\r\n        prevEl: \".swiper-button-prev\",\r\n      },\r\n    });\r\n\r\n    //перемещение на центр контрольных кнопок и дотсов\r\n    const swiperControlsWrapper = qAll(\".swiper-controls-wrapper\");\r\n\r\n    for (let item of swiperControlsWrapper) {\r\n      item.closest(\"section\").insertAdjacentHTML(\r\n        \"beforeend\",\r\n        `\r\n        <div class=\"swiper-controls-wrapper js-fake-dots\">\r\n          <button class=\"swiper-controls-wrapper__arrow js-left\" type=\"button\"></button>\r\n          ${item.innerHTML}\r\n          <button class=\"swiper-controls-wrapper__arrow js-right\" data-change=\"1\" type=\"button\"></button>\r\n        </div>\r\n        `\r\n      );\r\n    }\r\n\r\n    // кнопки и дотсы слайдера\r\n    let clickDots = [];\r\n    let clickDotsArrays = qAll(\".js-fake-dots\");\r\n\r\n    for (let dots of clickDotsArrays) {\r\n      clickDots = clickDots.concat(\r\n        dots.querySelectorAll(\".swiper-pagination-bullet\")\r\n      );\r\n    }\r\n\r\n    const btnArrows = qAll(\".swiper-controls-wrapper__arrow\");\r\n\r\n    function changeSlide(btnArr) {\r\n      for (let item of btnArr) {\r\n        const dots = item\r\n          .closest(\".swiper-controls-wrapper\")\r\n          .querySelectorAll(\".swiper-pagination-bullet\");\r\n        let currentSlide = 0;\r\n        const originalDots = item\r\n            .closest(\"section\")\r\n            .querySelector(\".swiper\")\r\n            .querySelectorAll(\".swiper-pagination-bullet\"),\r\n          fakedDots = item\r\n            .closest(\".swiper-controls-wrapper\")\r\n            .querySelectorAll(\"li\");\r\n\r\n        //изменение вида текущего фейкдотса\r\n        let mutationObserver = new MutationObserver(function (mutations) {\r\n          mutations.forEach(function (mutation) {\r\n            for (let i = 0; i < originalDots.length; i++) {\r\n              fakedDots[i].classList.remove(\"swiper-pagination-bullet-active\");\r\n\r\n              if (\r\n                originalDots[i].classList.contains(\r\n                  \"swiper-pagination-bullet-active\"\r\n                )\r\n              ) {\r\n                currentSlide = i;\r\n                fakedDots[i].classList.add(\"swiper-pagination-bullet-active\");\r\n              }\r\n            }\r\n          });\r\n        });\r\n        for (let i of originalDots) {\r\n          mutationObserver.observe(i, {\r\n            attributes: true,\r\n            attributeOldValue: true,\r\n          });\r\n        }\r\n\r\n        item.addEventListener(\"click\", function () {\r\n          function checkCurrentSlide() {}\r\n          // проверка текущего слайда\r\n\r\n          // обработка клика по кнопкам и отображение текущего дотса\r\n          if (\r\n            item.getAttribute(\"data-change\") &&\r\n            currentSlide + 1 < dots.length\r\n          ) {\r\n            originalDots[currentSlide + 1].click();\r\n            currentSlide++;\r\n          } else if (!item.getAttribute(\"data-change\") && currentSlide > 0) {\r\n            originalDots[currentSlide - 1].click();\r\n            currentSlide--;\r\n          }\r\n\r\n          // обработка клика по дотсам\r\n          for (let array of clickDots) {\r\n            for (let index = 0; index < array.length; index++) {\r\n              array[index].addEventListener(\"click\", function () {\r\n                let originalDots = array[index]\r\n                  .closest(\"section\")\r\n                  .querySelector(\".swiper\")\r\n                  .querySelectorAll(\".swiper-pagination-bullet\");\r\n                originalDots[index].click();\r\n              });\r\n            }\r\n          }\r\n        });\r\n      }\r\n    }\r\n\r\n    changeSlide(btnArrows);\r\n  }\r\n\r\n  // открытие форм попапов\r\n  if (qOne(\".js-reg\")) {\r\n    const jsRegister = qOne(\".js-register\"),\r\n      jsRegBtn = qAll(\".js-reg\");\r\n    jsRegBtn.forEach((el) => {\r\n      el.addEventListener(\"click\", () => {\r\n        closePopaps();\r\n        jsRegister.classList.toggle(\"active\");\r\n        overlay.classList.toggle(\"overlay--active\");\r\n      });\r\n    });\r\n  }\r\n\r\n  if (qOne(\".js-log\")) {\r\n    const jsLogin = qOne(\".js-login\"),\r\n      jsLogBtn = qAll(\".js-log\");\r\n\r\n    jsLogBtn.forEach((el) => {\r\n      el.addEventListener(\"click\", () => {\r\n        closePopaps();\r\n        jsLogin.classList.toggle(\"active\");\r\n        overlay.classList.toggle(\"overlay--active\");\r\n      });\r\n    });\r\n  }\r\n\r\n  //табы в блоге\r\n  if (qOne(\".articles-tabs__btn\")) {\r\n    const articlesTabsBtn = qAll(\".articles-tabs__btn\"),\r\n      articles = qAll(\".article\");\r\n\r\n    for (let i = 0; i < articlesTabsBtn.length; i++) {\r\n      articlesTabsBtn[i].addEventListener(\"click\", () => {\r\n        for (let item of articlesTabsBtn) {\r\n          item.classList.remove(\"articles-tabs__btn--active\");\r\n        }\r\n        for (let item of articles) {\r\n          item.classList.remove(\"article--active\");\r\n        }\r\n        articlesTabsBtn[i].classList.add(\"articles-tabs__btn--active\");\r\n        articles[i].classList.add(\"article--active\");\r\n      });\r\n    }\r\n\r\n    //адаптив кнопка показа меню\r\n    const showMenuBtn = qOne(\".articles-tabs__show-menu\"),\r\n      tabsMenu = qOne(\".articles-tabs__menu\");\r\n\r\n    showMenuBtn.addEventListener(\"click\", () => {\r\n      showMenuBtn.classList.toggle(\"active\");\r\n      tabsMenu.classList.toggle(\"active\");\r\n      overlay.classList.toggle(\"overlay--active\");\r\n    });\r\n  }\r\n\r\n  //попапы с формами\r\n  if (qOne(\".popap-form\")) {\r\n    const formFieldset = qAll(\".popap-form__page\"),\r\n      progressbarItem = qAll(\".progressbar__item\"),\r\n      next = qAll(\".js-next\"),\r\n      previous = qAll(\".js-previous\"),\r\n      progressbar = qOne(\".progressbar\");\r\n\r\n    //ширина прогрессбара зависящая от количества страничек\r\n    progressbar.style.width = `${progressbarItem.length * 68 - 68}px`;\r\n\r\n    //клик по кнопке вперед\r\n    for (let i = 0; i < next.length; i++) {\r\n      next[i].addEventListener(\"click\", () => {\r\n        formFieldset[i].classList.remove(\"popap-form__page--active\");\r\n        progressbar.style.setProperty(\r\n          \"--progressbar-width\",\r\n          persent(i + 1, formFieldset)\r\n        );\r\n        formFieldset[i + 1].classList.add(\"popap-form__page--active\");\r\n        progressbarItem[i + 1].classList.add(\"progressbar__item--active\");\r\n\r\n        progressbarItem[i + 1].classList.add(\"progressbar__item--text\");\r\n        progressbarItem[i].classList.remove(\"progressbar__item--text\");\r\n      });\r\n    }\r\n\r\n    //клик по кнопке назад\r\n    for (let i = 0; i < previous.length; i++) {\r\n      previous[i].addEventListener(\"click\", () => {\r\n        formFieldset[i].classList.add(\"popap-form__page--active\");\r\n        progressbar.style.setProperty(\r\n          \"--progressbar-width\",\r\n          persent(i, formFieldset)\r\n        );\r\n        formFieldset[i + 1].classList.remove(\"popap-form__page--active\");\r\n        progressbarItem[i + 1].classList.remove(\"progressbar__item--active\");\r\n        progressbarItem[i + 1].classList.remove(\"progressbar__item--text\");\r\n        progressbarItem[i].classList.add(\"progressbar__item--text\");\r\n      });\r\n    }\r\n\r\n    // линия прогресса и функция вычисления %\r\n    const progress = () => {\r\n      progressbar.style.setProperty(\r\n        \"--progressbar-width\",\r\n        persent(i, formFieldset)\r\n      );\r\n    };\r\n\r\n    const persent = (item, arr) => {\r\n      return `${(item / (arr.length - 1)) * 100}%`;\r\n    };\r\n\r\n    // расположение элементов в прогрессбаре\r\n    for (let i = 0; i < progressbarItem.length; i++) {\r\n      progressbarItem[i].style.setProperty(\"left\", persent(i, progressbarItem));\r\n    }\r\n  }\r\n\r\n  //кастомный селект\r\n  if (qOne(\".select\")) {\r\n    const selectHeader = qAll(\".select__header\");\r\n    if (selectHeader) {\r\n      for (let item of selectHeader) {\r\n        let select = item.closest(\".select\");\r\n        let options = select.querySelectorAll(\"option\");\r\n\r\n        select.querySelector(\"span\").innerText = options[0].innerText;\r\n\r\n        for (let option of options) {\r\n          option\r\n            .closest(\".select\")\r\n            .querySelector(\r\n              \"ul\"\r\n            ).innerHTML += `<li class=\"select__item\">${option.innerText}</li>`;\r\n\r\n          if (option.hasAttribute(\"selected\")) {\r\n            option.closest(\".select\").querySelector(\"span\").innerText =\r\n              option.innerText;\r\n          }\r\n        }\r\n\r\n        let selectItem = select.querySelectorAll(\"li\");\r\n        for (let i = 0; i < selectItem.length; i++) {\r\n          selectItem[i].addEventListener(\"click\", () => {\r\n            select.querySelector(\"select\").value = selectItem[i].innerText;\r\n            select.querySelector(\".select__current\").innerText =\r\n              selectItem[i].innerText;\r\n            select.classList.remove(\"select--active\");\r\n          });\r\n        }\r\n\r\n        item.addEventListener(\"click\", function () {\r\n          this.closest(\".select\").classList.toggle(\"select--active\");\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  // маска телефона по умолчанию +7\r\n  function maskPhone(selector, masked = \"+7 (___) ___-__-__\") {\r\n    const elems = document.querySelectorAll(selector);\r\n\r\n    function mask(event) {\r\n      const keyCode = event.keyCode;\r\n      const template = masked,\r\n        def = template.replace(/\\D/g, \"\"),\r\n        val = this.value.replace(/\\D/g, \"\");\r\n      let i = 0,\r\n        newValue = template.replace(/[_\\d]/g, function (a) {\r\n          return i < val.length ? val.charAt(i++) || def.charAt(i) : a;\r\n        });\r\n      i = newValue.indexOf(\"_\");\r\n      if (i !== -1) {\r\n        newValue = newValue.slice(0, i);\r\n      }\r\n      let reg = template\r\n        .substr(0, this.value.length)\r\n        .replace(/_+/g, function (a) {\r\n          return \"\\\\d{1,\" + a.length + \"}\";\r\n        })\r\n        .replace(/[+()]/g, \"\\\\$&\");\r\n      reg = new RegExp(\"^\" + reg + \"$\");\r\n      if (\r\n        !reg.test(this.value) ||\r\n        this.value.length < 5 ||\r\n        (keyCode > 47 && keyCode < 58)\r\n      ) {\r\n        this.value = newValue;\r\n      }\r\n      if (event.type === \"blur\" && this.value.length < 5) {\r\n        this.value = \"\";\r\n      }\r\n    }\r\n\r\n    for (const elem of elems) {\r\n      elem.addEventListener(\"input\", mask);\r\n      elem.addEventListener(\"focus\", mask);\r\n      elem.addEventListener(\"blur\", mask);\r\n    }\r\n  }\r\n  maskPhone(\"[type=tel]\");\r\n});\r\n"]}