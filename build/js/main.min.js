"use strict";document.addEventListener("DOMContentLoaded",(function(){function e(e){return document.querySelector(e)}function t(e){return document.querySelectorAll(e)}function s(){for(let e of o)e.classList.remove("active");i.classList.remove("overlay--active")}window.addEventListener("keydown",e=>{"Escape"==e.key&&s()});const r=e(".burger"),l=e(".menu"),i=e(".overlay"),o=t(".js-hide");i.addEventListener("click",()=>s()),r.addEventListener("click",(function(){this.classList.toggle("burger--close"),l.classList.toggle("header__menu--show")})),l.addEventListener("click",(function(){this.classList.remove("header__menu--show"),r.classList.remove("burger--close")}));const c=e(".header"),n=e(".to-top");let a,d=0;window.addEventListener("scroll",(function(){a=window.scrollY,a>100?c.classList.add("header--scroll"):c.classList.remove("header--scroll"),d<a&&d>500&&!e(".header__menu--show")?(c.classList.add("header--hide"),d=a):(c.classList.remove("header--hide"),d=a),a>1e3?n.classList.add("to-top--show"):n.classList.remove("to-top--show")}));const p=[].slice.call(document.querySelectorAll('a[href*="#"]'));if(p.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();let s=document.querySelector(e.getAttribute("href")).getBoundingClientRect().top+window.pageYOffset,r=setInterval((function(){Math.abs(window.pageYOffset-s)<12?(window.scrollTo(0,s),clearInterval(r)):12<window.pageYOffset-s?window.scrollBy(0,-12):12>window.pageYOffset-s&&window.scrollBy(0,12)}),5)}))})),e(".swiper")){new Swiper(".swiper",{slidesPerView:1,pagination:{el:".swiper-pagination",clickable:!0,renderBullet:function(e,t){return'<li class="'+t+'"> </li>'}},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}});const e=t(".swiper-controls-wrapper");for(let t of e)t.closest("section").insertAdjacentHTML("beforeend",`\n        <div class="swiper-controls-wrapper js-fake-dots">\n          <button class="swiper-controls-wrapper__arrow js-left" type="button"></button>\n          ${t.innerHTML}\n          <button class="swiper-controls-wrapper__arrow js-right" data-change="1" type="button"></button>\n        </div>\n        `);let s=[],r=t(".js-fake-dots");for(let e of r)s=s.concat(e.querySelectorAll(".swiper-pagination-bullet"));!function(e){for(let t of e){const e=t.closest(".swiper-controls-wrapper").querySelectorAll(".swiper-pagination-bullet");let r=0;const l=t.closest("section").querySelector(".swiper").querySelectorAll(".swiper-pagination-bullet"),i=t.closest(".swiper-controls-wrapper").querySelectorAll("li");let o=new MutationObserver((function(e){e.forEach((function(e){for(let e=0;e<l.length;e++)i[e].classList.remove("swiper-pagination-bullet-active"),l[e].classList.contains("swiper-pagination-bullet-active")&&(r=e,i[e].classList.add("swiper-pagination-bullet-active"))}))}));for(let e of l)o.observe(e,{attributes:!0,attributeOldValue:!0});t.addEventListener("click",(function(){t.getAttribute("data-change")&&r+1<e.length?(l[r+1].click(),r++):!t.getAttribute("data-change")&&r>0&&(l[r-1].click(),r--);for(let e of s)for(let t=0;t<e.length;t++)e[t].addEventListener("click",(function(){e[t].closest("section").querySelector(".swiper").querySelectorAll(".swiper-pagination-bullet")[t].click()}))}))}}(t(".swiper-controls-wrapper__arrow"))}if(e(".js-reg")){const r=e(".js-register");t(".js-reg").forEach(e=>{e.addEventListener("click",()=>{s(),r.classList.toggle("active"),i.classList.toggle("overlay--active")})})}if(e(".js-log")){const r=e(".js-login");t(".js-log").forEach(e=>{e.addEventListener("click",()=>{s(),r.classList.toggle("active"),i.classList.toggle("overlay--active")})})}if(e(".articles-tabs__btn")){const s=t(".articles-tabs__btn"),r=t(".article");for(let e=0;e<s.length;e++)s[e].addEventListener("click",()=>{for(let e of s)e.classList.remove("articles-tabs__btn--active");for(let e of r)e.classList.remove("article--active");s[e].classList.add("articles-tabs__btn--active"),r[e].classList.add("article--active")});const l=e(".articles-tabs__show-menu"),o=e(".articles-tabs__menu");l.addEventListener("click",()=>{l.classList.toggle("active"),o.classList.toggle("active"),i.classList.toggle("overlay--active")})}if(e(".popap-form")){const s=t(".popap-form__page"),r=t(".progressbar__item"),l=t(".js-next"),i=t(".js-previous"),o=e(".progressbar");o.style.width=68*r.length-68+"px";for(let e=0;e<l.length;e++)l[e].addEventListener("click",()=>{s[e].classList.remove("popap-form__page--active"),o.style.setProperty("--progressbar-width",c(e+1,s)),s[e+1].classList.add("popap-form__page--active"),r[e+1].classList.add("progressbar__item--active"),r[e+1].classList.add("progressbar__item--text"),r[e].classList.remove("progressbar__item--text")});for(let e=0;e<i.length;e++)i[e].addEventListener("click",()=>{s[e].classList.add("popap-form__page--active"),o.style.setProperty("--progressbar-width",c(e,s)),s[e+1].classList.remove("popap-form__page--active"),r[e+1].classList.remove("progressbar__item--active"),r[e+1].classList.remove("progressbar__item--text"),r[e].classList.add("progressbar__item--text")});const c=(e,t)=>e/(t.length-1)*100+"%";for(let e=0;e<r.length;e++)r[e].style.setProperty("left",c(e,r))}if(e(".select")){const e=t(".select__header");if(e)for(let t of e){let e=t.closest(".select"),s=e.querySelectorAll("option");e.querySelector("span").innerText=s[0].innerText;for(let e of s)e.closest(".select").querySelector("ul").innerHTML+=`<li class="select__item">${e.innerText}</li>`,e.hasAttribute("selected")&&(e.closest(".select").querySelector("span").innerText=e.innerText);let r=e.querySelectorAll("li");for(let t=0;t<r.length;t++)r[t].addEventListener("click",()=>{e.querySelector("select").value=r[t].innerText,e.querySelector(".select__current").innerText=r[t].innerText,e.classList.remove("select--active")});t.addEventListener("click",(function(){this.closest(".select").classList.toggle("select--active")}))}}!function(e,t="+7 (___) ___-__-__"){const s=document.querySelectorAll(e);function r(e){const s=e.keyCode,r=t,l=r.replace(/\D/g,""),i=this.value.replace(/\D/g,"");let o=0,c=r.replace(/[_\d]/g,(function(e){return o<i.length?i.charAt(o++)||l.charAt(o):e}));o=c.indexOf("_"),-1!==o&&(c=c.slice(0,o));let n=r.substr(0,this.value.length).replace(/_+/g,(function(e){return"\\d{1,"+e.length+"}"})).replace(/[+()]/g,"\\$&");n=new RegExp("^"+n+"$"),(!n.test(this.value)||this.value.length<5||s>47&&s<58)&&(this.value=c),"blur"===e.type&&this.value.length<5&&(this.value="")}for(const e of s)e.addEventListener("input",r),e.addEventListener("focus",r),e.addEventListener("blur",r)}("[type=tel]")}));
//# sourceMappingURL=../sourcemaps/main.min.js.map
